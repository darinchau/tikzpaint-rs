Add more different commands
Allow matching arbitrary expressions
Allow user defined variables
Allow user defined functions